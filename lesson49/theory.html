<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 49 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<h1>УРОК 49</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Обычный вид
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>
<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "相如視秦王無意償趙城乃前曰璧有",
    "瑕請指示王王授璧相如因持璧却立",
    "倚柱怒髪上衝冠謂秦王曰大王欲得",
    "璧使人發書至趙王趙王悉召群臣議",
    "皆曰秦貪負其強以空言求璧償城恐",
    "不可得議不欲予秦璧臣以爲布衣之",
    "交尚不相欺況大國乎且以一璧之故",
    "逆強秦之歡不可於是趙王乃齋戒五",
    "日使臣奉璧拜送書於庭何者嚴大國",
    "之威以修敬也今臣至大王見臣列觀",
    "禮節甚倨得璧傳之美人以戲弄臣臣",
    "觀大王無意償趙城邑故臣復取璧大",
    "王必欲急臣臣頭今與璧俱碎於柱矣",
    "相如持其璧睨柱欲以擊柱秦王恐其",
    "破璧乃辭謝固請召有司案圖指從此",
    "以往十五都予趙相如度秦王特以詐",
    "佯爲予趙城實不可得乃謂秦王曰和",
    "氏璧天下所共傳寶也趙王恐不敢不",
    "獻趙王送璧時齋戒五日今大王亦宜",
    "齋戒五日設九賓於廷臣乃敢上璧"
];
// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>49.1. The Functional Word 悉 xī</h3>
<p class="original">
The function word 皆 jiē, discussed in previous lessons (38.7; 45.1), refers to either the subject or a forward-facing object. The function word 悉 xī, which has the same general meaning, differs from 皆 jiē in that it refers to a postpositional object. Most often, it is
related in meaning to a direct object:
<br/>
<span class="example">項羽悉引兵渡河 xiàng yǔ xī yǐn bīng dù hé</span> "Xiang Yu led all his troops back and crossed the river."
<br/>
<span class="example">He became extremely angry, threw out all the pearl and jade jewelry, and scattered it
at the entrance to the palace.

<br/><br/>
But the word 悉 xī can also refer to an indirect object:
<br/>
<span class="example">良悉以家財求客刺秦王 liáng xī yǐ jiā cái qiú kè cì qín wáng</span> "[Zhang] Liang used all the money in his family to hire a man to assassinate the Qin ruler."
<br/><br/>
This text contains a sentence that clearly demonstrates the difference between 悉 xī and 皆 jiē:
<br/>
<span class="example">趙王悉召群臣議皆曰秦貪 zhào wáng xī zhào qún chén yì jiē yuē qín tān</span> "The ruler of the state of Zhao summoned all the dignitaries to a meeting, and they all said: 'Qin is greedy.'"
<br/><br/>
Here 悉 xī refers to the word "dignitaries," which is the direct object in this sentence, and 皆 jiē refers to the same word, but in the subject function.
</span></p>
<h3>49.2. The construction "even A is that... and B is even more so"</h3>
<p class="original">
The construction...尚...况...乎...shàng... kuàng... hū can be translated into Russian with the words "even A is that... so what can we say
about B?" or "A is that... and B is even more so." This construction appears in classical texts in several different variants:
<br/><br/>
a) After the first name or phrase (A), the function words 尚 shàng, 且 qiě, 猶 yóu, or their paired combinations can be used:
<br/>
<span class="example">王者尚不能行之於臣下,况同列乎 wáng zhě shàng bù néng xíng zhī yú chén xià, kuàng tóng liè hū</span> "Even a ruler cannot achieve this among his subjects, what can we say about those in equal positions?!"
<br/>
<span class="example">中材以上且羞其行,况王者乎 zhōng cái yǐ shàng qiě xiū qí xíng, kuàng wáng zhě hū</span> "Even people who are only slightly
above the average level are ashamed of their actions, not to mention rulers."
<br/>
<span class="example">蔓草猶不可除,况君之寵弟乎 màn cǎo yóu bù kě chú
kuàng jūn zhī chǒng dì hū</span> "Even a weed cannot be pulled out, much less the ruler's favored younger
brother."
<br/> 
"Even a ruler who has a thousand chariots, and he is afraid of poverty, but what can we say about the common people! 
<br/><br/> 
b) before the second name or phrase (B) can be used -
xia word 況 kuàng or phrases 而况 ér kuàng and 况
於 kuàng yú: 
<br/>
<span class="example">管仲且猶不可召,而况不為管仲者乎 guǎn zhòng qiě yóu bù kě zhào, ér kuàng bù wéi guǎn zhòng zhě hū</span> “Even
Guan Zhong cannot be summoned, much less someone who is not Guan Zhong.” 
<br/>
<span class="example">鼠近於器尚憚投恐傷其器,况於貴臣之近主乎
shǔ jìn yú qì shàng dàn tóu kǒng shāng qí qì, kuàng yú guì
chén zhī jìn zhǔ hū</span> "When a rat runs up to a vessel, people hesitate to throw anything at it for fear of breaking the vessel, and even more so when a noble official is
near the sovereign";
<br/><br/>
c) All auxiliary words in this construction, except for 況 kuàng, can be omitted:
<br/>
<span class="example">一虜不可得見,况單于之面乎 yī lǔ bù kě dé jiàn,
kuàng shàn yǔ zhī miàn hū</span> "They couldn't even see a single
barbarian, let alone the chanyu himself."
</p>
<h3>49.3. Constructions like 從...以往 cóng... yǐ wǎng</h3>
<p class="original">
We have already encountered (47.2) a construction for denoting
the direction of movement from a certain point. There is a variant in which the function word 以 yǐ is followed not by a spatial marker, but by the predicative 來 lái (movement toward the speaker) or 往 wǎng (from the speaker):
<br/>
<span class="example">從此以往 cóng cǐ yǐ wǎng</span> "from here and further."
</p>
</div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div style="text-align: center; margin: 20px 0;">
<img alt="Линь Сянжу, подданный царства Чжао, подносит яшму циньскому правителю (с ханьского барельефа)" class="original" src="./img/page_5_img_1.png" style="border: none; padding: 0; max-width: 100%;"/>
<p class="footer" style="margin-top: 8px; border-top: none; padding-top: 0;">Линь Сянжу, подданный царства Чжао,<br/>подносит яшму циньскому<br/>правителю<br/>(с ханьского барельефа)</p>
</div>
<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>49.A. "Show on map"</h3>
<p class="original">
Primitive geographical maps probably appeared in China as early as the 4th–3rd centuries BC. In any case, when Liu Bang's troops entered the capital after the fall of the Qin Empire, he first of all took care to seize the "documents and maps" kept in the imperial chancery. The existence of a map of the Qin state by its ruler, Zhao Wang, is reflected in the cited text from Sima Qian's "Historical Records."

</p>
<div style="text-align: center; margin: 20px 0;">
<img alt="Ancient Chinese Geographical Map (fragment)" class="original" src="./img/page_6_img_1.jpeg" style="border: none; padding: 0; max-width: 100%;"/>
<p class="footer" style="margin-top: 8px; border-top: none; padding-top: 0;">Ancient Chinese Geographical Map (fragment)</p>
</div>

</div>
<div class="assignment">
<h2>ASSIGNMENT FOR INDEPENDENT WORK</h2>
<ol>
<li>Rewrite the text, adding punctuation marks.</li>
<li>Conduct a grammatical analysis of the text.</li>
<li>Translate the text into Russian.</li>
<li>List all the ancient Chinese pronouns and their properties that you know.</li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov - Archaic Ancient Chinese.<br>
Recovered using OCR, preserving the author's style and adding pinyin.<br>
All characters are from Lessons 1–49, or from cyclic characters (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
<script id="help" src="../help.js"></script>
</body>
</html>
