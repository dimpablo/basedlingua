<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 22 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
    </style>
</head>
<body>
<h1>УРОК 22</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
        Обычный вид
    </span>
</div>
<script>
    // Данные текста урока 22 (по строкам из PDF)
const lessonText = [
  "唯王正月初吉乙亥邾公華擇厥吉金",
  "玄鏐赤鎛用鑄厥和鐘以祚其皇祖皇",
  "考曰余畢龏威忌淑穆不墜于厥身鑄",
  "其和鐘以恤其祭祀以樂大夫以宴士",
  "庶子慎為之銘元器其舊載公眉壽邾",
  "邦是保其萬年無疆子子孫孫永保用",
  "享",
  "唯王九月初吉丁亥曾孫鼠兒余夫斯",
  "于之孫余幾路之元子曰於虖敬哉徐",
  "義楚之良臣而僥之慈父擇其吉金鎛",
  "鋁以鑄和鐘以追孝先祖樂我父兄飮",
  "飤歌舞孫孫用之後是語"
];
    // Функция для создания таблицы
    function createOracleTable() {
        const table = document.getElementById('oracleTable');
        table.innerHTML = ''; // Очистка таблицы перед заполнением
        // Создаём строку с номерами колонок
        const headerRow = document.createElement('tr');
        const emptyCell = document.createElement('td');
        emptyCell.className = 'line-num';
        headerRow.appendChild(emptyCell);
        for (let i = 1; i <= 15; i++) {
            const th = document.createElement('td');
            th.className = 'col-num';
            th.textContent = i;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Создаём строки с текстом
        for (let i = 0; i < lessonText.length; i++) {
            const row = document.createElement('tr');
            const lineNumCell = document.createElement('td');
            lineNumCell.className = 'line-num';
            lineNumCell.textContent = i + 1;
            row.appendChild(lineNumCell);

            const chars = Array.from(lessonText[i].replace(/\s+/g, ' ')).filter(ch => ch.trim() !== '');
            for (let j = 0; j < 15; j++) {
                const td = document.createElement('td');
                if (j < chars.length) {
                    const char = chars[j];
                    td.textContent = char;
                    if (charData[char]) {
                        const tooltip = document.createElement('div');
                        tooltip.className = 'char-tooltip';
                        tooltip.innerHTML = `
                            <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                            ${charData[char].meaning}<br>
                            <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                        `;
                        td.appendChild(tooltip);
                    }
                }
                row.appendChild(td);
            }
            table.appendChild(row);
        }
    }

    // Инициализация таблицы при загрузке страницы
    document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>22.1. Personal Pronoun 其 qí</h3>
<p class="original">
One of the significant features distinguishing the late Preclassical language from previous periods is the transformation of the personal pronoun system.
<br/><br/>
Specifically, during this period, a new personal pronoun, 其 qí, appeared, replacing 厥 jué. In 6th-century BCE monuments, 其 qí, as a third-person personal pronoun used to describe a noun, coexists with the earlier 厥 jué. An example of this is the first part of Lesson 22, where phrases with the same meaning, "his ringing bell," use different pronouns: <span class="example">厥和鐘 jué hé zhōng</span> and <span class="example">其和鐘 qí hé zhōng</span>.
<br/><br/>
Later, the pronoun 厥 jué falls out of use. In classical texts, it appears only as an archaism: in quotations from the Shanshu and Shijing, as well as in official documents (treaties, ambassadorial speeches), etc.
<br/><br/>
Along with the gradual displacement of 厥 jué by 其 qí, the function word 其 qí in its original adverbial meaning is also disappearing. In this sense, texts from the 6th century BCE demonstrate the coexistence of old and new.
<br/><br/>
In this lesson, the word 其 qí appears both as a pronoun and as an adverb: <span class="example">其 萬 年 無 疆 qí wàn nián wú jiāng</span> "for ten thousand years to have no end."
</p>
<h3>22.2. Function word 而 ér</h3>
<p class="original">
The word 而 ér, not found in the early preclassical language, is classified as a conjunction. We are already familiar with the conjunction 眔 dà, which typically connects names: <span class="example">令 眔 奮 lìng dà fèn</span> "Lin and Fen"; <span class="example">馬 眔 羊 mă dà yáng</span> "horses and rams".
<br/><br/>
Unlike 眔 dà, which connects two or more independent elements, the conjunction 而 ér is used to express a coordinating relationship between names that characterize the same object or person from different perspectives. In our text, <span class="example">義楚之良臣 yì chǔ zhī liáng chén</span> "the devoted servant of I-chu" and <span class="example">僥之慈父 yáo zhī cí fù</span> "the virtuous father Yao" are not two persons, but one (the same person is a servant of a certain I-chu and at the same time is the father of his son, named Yao). This circumstance is clarified by the introduction of the conjunction 而 ér between the names. The same in Lesson 23: <span class="example">襄公之出而成公之女 xiāng gōng zhī chū ér chéng gōng zhī nǚ</span> "Xiang Gong's sister's daughter, [also] Cheng Gong's daughter."
</p>
<h3>22.3. Predicate Inversion</h3>
<p class="original">
In early preclassical Chinese, there was a construction used to logically emphasize the predicate. This construction was not applied to any predicate, but only to those that characterize the state of the subject and are expressed by a qualitative predicate. <br/><br/>
In the late preclassical language, such predicates, when logically distinguished, are formed differently—with the function word 哉 zāi (in postposition). A sentence with an inverted predicate of this type acquires an emotionally emphasized stylistic tone: <span class="example">善 哉 民 之 主 shàn zāi mín zhī zhǔ</span> "How virtuous is the ruler of the people!" <span class="example">Lin Fang asked about the essence of the norms of relationships between people. The teacher exclaimed: "The question is most important!" A nominal predicate can be inverted in the same way: <span class="example">君 哉 舜 也 jūn zāi shùn yĕ</span> "Shun is the ruler!"
</span></p>
</div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>22.A. Hua, ruler of the state of Zhu</h3>
<p class="original">
The hereditary domain of Zhu was located during the Eastern Zhou period in the southwestern part of the Shandong Peninsula. <br/><br/>
A ruler of this kingdom named Hua is mentioned in the Spring and Autumn Chronicle under the first year of the reign of Emperor Zhao of Lu, i.e., in 541 BC.
</p>
<h3>22.B. A Certain Yichu from the Kingdom of Xu</h3>
<p class="original">
South of Zhu lay the kingdom of Xu.
<br/><br/>
The Zuozhuan chronicle reports that in the sixth year of the reign of Emperor Zhao of Lu (536 BC), a certain Yichu from the kingdom of Xu traveled to Chu but was captured and detained there. He subsequently managed to escape and return home. The second text of Lesson 22 mentions a servant of Yichu of Xu. This serves as the basis for the dating of the inscription.

</p>
<div style="text-align: center; margin: 20px 0;">
<img alt="These were the " and="" autumn="" bells"="" class="original" of="" period"="" ringing="" spring="" src="./img/page_5_img_1.jpeg" style="border: none; padding: 0; max-width: 100%;" the=""/>
<p class="footer" style="margin-top: 8px; border-top: none; padding-top: 0;">These were the "ringing bells" of the Spring and Autumn period</p>
</div>

</div>
<div class="assignment">
<h2>ASSIGNMENT FOR INDEPENDENT WORK</h2>
<ol>
<li>Rewrite the text, adding punctuation marks.</li>
<li>Analyze the text grammatically.</li>
<li>Translate the text into Russian.</li>
<li>Determine approximately in what century the following phrase was written: <span class="example">我聞其聲不見其身.</span></li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov - Archaic Old Chinese Language.<br>
Recovered using OCR, preserving the author's style and adding pinyin.<br>
All characters are from Lessons 1–22, or from cyclic characters (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
</body>
<script id="help" src="../help.js"></script>
</html>