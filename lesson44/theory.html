<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 44 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<h1>УРОК 44</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Обычный вид
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>
<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "白起小豎子耳率數萬之衆興師以與",
    "楚戰一戰而舉鄢郢再戰而燒夷陵三",
    "戰而辱王之先人此百世之怨而趙之",
    "所羞而王弗知惡焉合縱者為楚非為",
    "趙也吾君在前叱者何也楚王曰唯唯",
    "誠若先生之言謹奉社稷而以縱毛遂",
    "曰縱定乎楚王曰定矣毛遂謂楚王之",
    "左右曰取雞狗馬之血來毛遂奉銅盤",
    "而跪進之楚王曰王當歃血而定縱次",
    "者吾君次者遂遂定縱於殿上毛遂左",
    "手持盤血而右手招十九人曰公相與",
    "歃此血於堂下公等録録所謂因人成",
    "事者也平原君已定縱而歸歸至於趙",
    "勝不敢復相士勝相士多者千人寡",
    "者百數自以爲不失天下之士今乃於",
    "毛先生而失之也毛先生一至楚而使",
    "趙重於九鼎大呂毛先生以三寸之舌",
    "強於百萬之師勝不敢復相士"
];
// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>44.1. Sentence with a nominal predicate</h3>
<p class="original">
In the late classical language, the function word yě is used much less frequently than in the 5th–3rd centuries BCE. Therefore, the nominal predicate now often appears without the formation of a copula, as it did in the preclassical language:
<br/>
次者吾君 cì zhě wú jūn "The one who follows him is my lord."
<br/>
此人力士 cǐ rén lì shì "This man is a strong man."
</p>
<h3>44.2. Word order for a predicate with a double object</h3>
<p class="original">
Although the general rule of word order (first the indirect object, then the direct object), traced throughout the history of the Old Chinese language, remains in force in the Late Classical period, there is one exception in the latter period.
<br/><br/>
If the direct object of a predicative with the meaning "giving - taking away" is expressed by a demonstrative pronoun (in particular, 之 zhī), then it precedes the indirect object: 毛遂奉銅盤而跪進之楚王 máo suí f èng tóng pán ér guì
jìn zhī chǔ wáng "Mao Sui took the bronze dish with both hands
and, kneeling, presented it to the Chu king."
<br/><br/>
If both objects were expressed by names, the word order would be normal:
<br/>
毛遂進楚王銅盤 máo suí jìn chǔ wáng tóng pán "Mao
Sui presented the Chu king with a bronze dish."
</p>
<h3>44.3. Additional Predicatives with the Meaning of Direction of Movement</h3>
<p class="original">
In the late classical language, we find the emergence of
a feature that developed somewhat later, in the postclassical period.
<br/><br/>
This is the fact that predicatives with the general meaning of "to carry" receive additional structure, which is a predicative specifying the direction in which this movement occurs—toward or away from the speaker. The corresponding
additional predicative is not attached to the main predicative, but is placed after the object.
<br/><br/>
In this lesson, the additional predicative meaning of direction of movement toward the speaker, 來 lái, appears:
<br/>
毛遂曰取雞狗馬之血來 máo suí yuē qǔ j ī gǒu mǎ zhī
xiě lái "Mao Sui said: 'Bring here the blood of a chicken, a dog, and a horse.'"
</p>
<h3>44.4. The Modal Predicative 當 dāng</h3>
<p class="original">
In the late classical language, a new modal
predicative 當 dāng appears. It serves to denote some objective necessity or determinacy of an action: 必當殺之 bì dāng shā zhī "There's nothing to be done, I'll have to execute him."
</p>
<h3>44.5. Function word 而 ér</h3>
<p class="original">
We have encountered this word earlier in several meanings, which are retained in the late classical language.
<br/><br/>
Leaving aside its use as a
personal pronoun, its basic meanings boil down to the following.
<br/><br/>
1. A conjunction indicating a coordinating relationship between names that denote the same object or phenomenon, characterizing it from different sides (we noted this meaning in the late pre-classical language):
<br/>
此百世之怨而趙之所羞 cǐ bǎi shì zhī yuàn ér zhào zhī suǒ xiū "This is an offense that will not be forgotten for a hundred generations, and something that Zhao is ashamed of."
<br/> 
魏公子無忌者魏昭王少子而魏安厘王異母弟也 
wèi gōng zǐ wú jì zhě wèi zhāo wáng shào zǐ ér wèi ān lí wáng 
yì mǔ dì yě “He who is known as the Wei prince Wu-ji was the youngest son of the Wei ruler Zhao-wang 
and the younger half-brother of the Wei Anli-wan.” 
<br/><br/>
2. A conjunction connecting several clauses and indicating a logical contrast between the messages contained in them (the word 而 ér was found in this meaning
in the early classical language): 妻妾相泣於中庭, 而良人未之知也 qī qiè xiāng qì yú
zhōng tíng, ér liáng rén wèi zhī zhī yě "The wife and concubine
wept together in the courtyard, and the husband did not know about it."
<br/><br/>
3. A conjunction connecting predicatives or predicative phrases (this meaning appears in early classical Chinese):
<br/>
捨魚而取熊掌 shě yú ér qǔ xióng zhǎng "to refuse
fish and prefer bear's paw."
<br/><br/>

4. A function word connecting a predicate with a forward indirect object (this meaning was first recorded only in the late classical language): 文王以百里之壤而臣諸侯 wén wáng yǐ bǎi lǐ zhī rǎng ér chén zhū hóu "Wen Wang subjugated Zhuhou, owning a territory of 100 li" (literally "with the help of a territory of 100 li").
<br/>
今乃於毛先生而失之也 j īn nǎi yú máo xiān shēng ér
shī zhī yě "But regarding Mr. Mao, this time I made a mistake."
</p>
<h3>44.6. Indicating the Plural of Personal Pronouns</h3>
<p class="original">
Personal pronouns in classical Chinese indicate the singular number of the persons they designate. In cases where it is necessary to express the plural, in the late classical language one of the special
function words 屬 shǔ, 曹 cáo, or 等 ​​děng is added to the personal pronoun: 我屬勿患也 wǒ shǔ wù huàn yě "We have nothing to fear."
<br/><br/>
不願汝曹效之 bù yuàn rǔ cáo xiào zhī "I do not want you to serve him."
<br/><br/>
The same plural markers are also used with names used as personal pronouns, in particular
with the word 公 gōng "you": 公等錄錄所謂因人成事者也 gōng děng lù lù suǒ wèi
yīn rén chéng shì zhě yě "You, sirs, are incapable of anything; people like you are said to achieve their goals through the hands of others."
</p>
</div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>44.A. Qin General Bai Qi</h3>
<p class="original">
Bai Qi is one of the most famous military leaders of the Qin kingdom. His activities date back to the reign of the Qin

Zhao Wang (306–251 BC).
<br/><br/>
Bai Qi's name is associated with significant successes of the Qin state in its struggle

against its neighbors—the states of Han, Zhao, and Chu. In particular, in 279–278 BC, Bai Qi inflicted a serious defeat on Chu, capturing the kingdom's capital and several major cities. </p>
<div style="text-align: center; margin: 20px 0;">
<img alt="General Bai Qi (medieval drawing)" class="original" src="./img/page_6_img_1.png" style="border: none; padding: 0; max-width: 100%;"/>
<p class="footer" style="margin-top: 8px; border-top: none; padding-top: 0;">General Bai Qi (medieval drawing)</p>
</div>
<div class="clearfix"></div>

</div>
<div class="assignment">
<h2>ASSIGNMENT FOR INDEPENDENT WORK</h2>
<ol>
<li>Rewrite the text, adding punctuation.</li>
<li>Perform a grammatical analysis of the text.</li>
<li>Translate the text into Russian Language.</li>
<li>List all the instances of the function word "ér" in this text, determine its meaning in each of these instances, and provide examples from previously read texts for all known meanings of this word.</li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov - Archaic Old Chinese Language.<br>
Recovered using OCR, preserving the author's style and adding pinyin.<br>
All characters are from Lessons 1–44, or from cyclic characters (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
<script id="help" src="../help.js"></script>
</body>
</html>
