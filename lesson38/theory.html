<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 38 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<h1>УРОК 38</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Обычный вид
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>
<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "孟子謂戴不勝曰子欲子之王之善與",
    "我明告子有楚大夫於此欲其子之齊",
    "語也則使齊人傅諸使楚人傅諸曰使",
    "齊人傅之曰一齊人傅之衆楚人咻之",
    "雖日撻而求其齊也不可得矣引而置",
    "之莊嶽之閒數年雖日撻而求其楚亦",
    "不可得矣子謂薛居州善士也使之居",
    "於王所在於王所者長幼卑尊皆薛居",
    "州也王誰與為不善在王所者長幼卑",
    "尊皆非薛居州也王誰與為善一薛居",
    "州獨如宋王何"
];// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>38.1. The Use of Proper Nouns as Common Nouns
<p class="original">
A characteristic feature of the ancient Chinese language is that notional words reveal their belonging to a class of nouns or predicatives only in a specific grammatical context. Unlike ordinary notional words, proper names cannot perform predicative functions in a sentence.
<br/><br/>
There are other formal differences between a proper name and a notional word in the nominal function. These differences are determined by the fact that a notional word in the nominal function refers to an entire class of objects, whereas a proper name denotes a specific, individual object.
<br/><br/>
Therefore, a proper name, firstly, does not accept definitions expressed by a numeral or demonstrative pronoun; secondly, it is not used in the plural.
<br/><br/>
However, in cases where the specific individuality of an object (person) denoted by a proper name is transformed into an indication of a quality or property, the proper name can be used as a common noun, i.e., as an ordinary notional word, which significantly changes its grammatical characteristics.
<br/><br/>
In this case, it can, firstly, serve as a predicate:
<br/>
<span class="example">爾欲吳王我乎 ěr yù wú wáng wǒ hū</span> "Do you wish to inflict upon me the fate of the ruler of Wu?"
<br/>
Here, the phrase "ruler of Wu" is used predicatively, meaning "to do the same as the ruler of Wu was done." It is implied that the interlocutor is well aware of the fate of the ruler of the kingdom of Wu; what happened to him now constitutes a certain quality or situation.
<br/><br/>
By the way, the similar transformation of proper nouns into common nouns and their predicative use is by no means unique to Old Chinese. Compare the English <span class="example">to coventry</span> "to raze to the ground," derived from the proper name Coventry (the name of a city in England devastated by German air force bombs).
<br/><br/>
In this text, the names of the ancient Chinese kingdoms of Qi and Chu are used in a predicative function:
<br/>
<span class="example">雖日撻而求其齊也,不可得矣,雖日撻而求其楚也,亦不可得也 suī rì tà ér qiú qí qí yě, bù kě dé yǐ, suī rì tà ér qiú qí chǔ yě, yì bù kě dé yě</span> "Even if you punish him daily and demand that he be like a native of the state of Qi, nothing will come of it; Even if we punish him daily and demand that he resemble a native of the Chu kingdom, nothing will come of it."
<br/><br/>
Secondly, when used as a common noun, a proper noun can be an attribute of the predicate:
<br/>
<span class="example">欲其子之齊語 yù qí zǐ zhī qí yǔ</span> "[He] wanted his son to speak Zi."
<br/><br/>
Thirdly, a proper noun used as a common noun can be plural:
<br/>
<span class="example">在於王所者長幼卑尊皆薛居州也 zài yú wáng suǒ zhě zhǎng yòu bēi zūn jiē xuē jū zhōu yě</span> "Those who are in the ruler's residence—elderly and junior, lowly and venerable—are all Xue Juzhou."
<br/><br/>
Fourthly, a sign that a proper noun is used as a common noun can be its ability to accept a definition expressed by a numeral:
<br/>
<span class="example">雖有百盎,可得而間哉 suī yǒu bǎi àng, kě dé ér jiān zāi</span> "Even if there were a hundred [people like Yuan] An here, how could they sow discord?"
<br/>
<span class="example">一薛居州獨如宋王何 yī xuē jū zhōu dú rú sòng wáng hé</span> "How can one [person like] Xue Juzhou influence the ruler of the Song State?"
</p>
<h3>38.2. Adverbial modifiers of duration</h3>
<p class="original">
In archaic Chinese, we noted that words used to express the period of time during which an action is performed were placed before the corresponding predicate:
<br/>
<span class="example">旬雨 xún yǔ</span> "It will rain for a decade."
<br/><br/>
The same is characteristic of pre-classical Chinese:
<br/>
<span class="example">萬年用 wàn nián yòng</span> "use for 10,000 years."
<br/><br/>
In early classical Chinese, the word order when denoting the duration of an action changes. Now the duration adverb is placed in postposition to the predicate:
<br/>
<span class="example">子之兄弟事之數十年 zǐ zhī xiōng dì shì zhī shù shí nián</span> "Your brothers served him for several decades."
<br/><br/>
However, it should be noted that in the early classical language, the new way of denoting the duration of an action had not yet completely supplanted the old; in the Analects and the Mencius, both are found:
<br/>
<span class="example">獨居三年 dú jū sān nián</span> "to live alone for three years";
<br/>
<span class="example">三年學 sān nián xué</span> "to study for three years."
<br/><br/>
Nevertheless, even in the early classical language, a tendency is evident that became the rule in later stages of the development of Chinese: in a negative sentence, the duration modifier precedes the predicate, and in an affirmative sentence, it follows the predicate:
<br/>
<span class="example">吾嘗終日不食 wú cháng zhōng rì bù shí</span> "One day, I didn't touch food all day."
<br/>
<span class="example">群居終日 qún jū zhōng rì</span> "[when people] are together for a whole day."
<br/><br/>
Note that if a noun phrase denoting the duration of an action comes after the predicate, it takes the position after the objects:
<br/>
<span class="example">置之莊嶽之間數年 zhì zhī zhuāng yuè zhī jiān shù nián</span> "place him between Zhuang and Yue for several years."
</p>
<h3>38.3. Function word 諸 zhū (continued)</h3>
<p class="original">
In classical Chinese, the function word written with the character 諸 zhū can replace not only the phrase 之於 zhī yú, but also 之乎 zhī hū. In the latter case, such a phrase includes the demonstrative pronoun 之 zhī as a direct object and the final interrogative particle 乎 hū, expressing a general question. Therefore, a sentence ending in 諸 zhū is interrogative and implies the presence of a direct object:
<br/>
<span class="example">曰不識有諸,曰有之 yuē bù shí yǒu zhū, yuē yǒu zhī</span> "Question: 'I don't know if it happened?' Answer: 'It did.'"
</p>
<h3>38.4. The Interrogative Pronoun as an Indirect Object</h3>
<p class="original">
In pre-classical Chinese, an indirect object, expressed by an interrogative pronoun and formed by the preposition 以 yǐ or 與 yǔ, not only preceded the predicate, but also preceded the preposition itself (26.3):
<br/>
<span class="example">何以穿我屋 hé yǐ chuān wǒ wū</span> "What is he using to make holes in my roof?"
<br/>
This rule remains in force in the Early Classical language:
<br/>
<span class="example">王誰與為善 wáng shuí yǔ wéi shàn</span> "With whom does the ruler have good relations?"
</p>
<h3>38.5. The Phrase 何如 hé rú (continued)</h3>
<p class="original">
In some cases, this phrase can be broken down so that its components are swapped, and a name is inserted between them. This kind of construction can be translated into Russian as "what will happen to..." or "what will happen to...":
<br/>
<span class="example">如宋王何 rú sòng wáng hé</span> "What will happen to the ruler of the Song Dynasty?"
<br/><br/>
The noun in this construction can be replaced by the demonstrative pronoun 之 zhī, and then it takes the form <span class="example">如之何 rú zhī hé</span> "what will come of this," etc. This construction is often used as a main clause with a conditional clause:
<br/>
<span class="example">四境之内不治,則如之何 sì jìng zhī nèi bù zhì, zé rú zhī hé</span> "If there is no order within the country, then what can be done?"
</p>
<h3>38.6. Spatial marker as a postposition</h3>
<p class="original">
In archaic Chinese, spatial markers were attached directly to the corresponding names, without any function words. In classical Chinese, a spatial marker acting as a postposition to a name is in most cases combined with the function word 之 zhī:
<br/>
<span class="example">四境之内 sì jìng zhī nèi</span> "within the state" (lit. "within the four borders");
<br/>
<span class="example">莊嶽之間 zhuāng yuè zhī jiān</span> "between Zhuang and Yue."
</p>
<h3>38.7. The Definitive Pronoun 皆 jiē</h3>
<p class="original">
The function word 皆 jiē is a definitive pronoun. It indicates that all objects or phenomena expressed by the subject are equally characterized by the properties or actions expressed by the predicate. Thus, 皆 jiē of the classical period is synonymous with the function words 咸 xián and 率 shuài used in the pre-classical period. Like them, 皆 jiē always follows the subject:
<br/>
<span class="example">宋人皆能守 sòng rén jiē néng shǒu</span> "All the inhabitants of the Song state were able to defend themselves."
<br/>
<span class="example">宋人皆不能守 sòng rén jiē bù néng shǒu</span> "None of the people of the Song kingdom could defend themselves" (lit. "all could not defend themselves").
</p>
</h3></div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>38.A. "Speaking Chu"</h3>
<p class="original">
The political and economic isolation of the Zhuhou domains during the Zhanguo era contributed to the increasing divergence of the dialects of Old Chinese, which undoubtedly existed in the preceding period. Differences between the dialects of the northern and southern kingdoms were particularly noticeable.
<br/><br/>
Mencius, incidentally, proposed the most correct and effective method for learning a foreign dialect (language): not only to invite a teacher who is a native speaker of the given dialect, but also to travel to the place where it is spoken, since exposure to the language being studied best guarantees the desired effect. </p>
</div>
<div class="assignment">
<h2>INDEPENDENT STUDY ASSIGNMENT</h2>
<ol>
<li>Rewrite the text, adding punctuation.</li>
<li>Perform a grammatical analysis of the text.</li>
<li>Translate the text into Russian.</li>
<li>Translate the following sentences into Old Chinese:<br/>
1. How can I make his subjects speak Ci?<br/>
2. All these people are natives of the State of Chu.<br/>
3. Do you want to know this?<br/>
4. This is what one demands who wants his children to do good.
</li>
<li>Explain why the proper name "Xue Juzhou" is used as a common noun in Lesson 38.</li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov — Archaic Old Chinese.<br>
Recovered using OCR, preserving the author's style and adding pinyin.<br>
All characters are from Lessons 1–38, or from cyclic characters (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const table = document.getElementById('oracleTable');
        if (!table) return;

        const rows = table.querySelectorAll('tr');
        rows.forEach(row => {
            const cells = row.querySelectorAll('td');
            cells.forEach(cell => {
                // Получаем текстовое содержимое ячейки, включая скрытые элементы, и удаляем пробелы
                const cellText = cell.textContent.trim();
                
                // Проверяем, является ли содержимое ячейки только "_"
                if (cellText === '_') {
                    // Делаем текст невидимым, очищая textContent
                    // Это удалит текстовый узел "_" , но оставит другие элементы (например, подсказки)
                    cell.textContent = ''; 
                }
                // Проверяем, является ли содержимое ячейки только "|"
                else if (cellText === '|') {
                    // Меняем фоновый цвет на пастельно-бордовый
                    cell.style.backgroundColor = '#e0bfb8'; // Пример пастельно-бордового цвета
                    // Делаем текст (символ "|") невидимым, очищая textContent
                    cell.textContent = '';
                }
            });
        });
    });
</script>
<script id="help" src="../help.js"></script>
</html>
