<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>Урок 18 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<script src="./../dictionary.js"></script>
</head>
<body>
<h1>УРОК 18</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
        Обычный вид
    </span>
</div>
<style>
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 30px;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    input:checked + .slider {
        background-color: #1a5fb4;
    }
    input:checked + .slider:before {
        transform: translateX(30px);
    }
</style>
<style>
    .char-tooltip {
        display: none;
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: max-content;
        max-width: 300px;
        background: #1a4f72;
        color: white;
        padding: 12px 15px;
        border-radius: 6px;
        font-size: 0.9em;
        text-align: left;
        white-space: normal;
        z-index: 100;
        box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
        line-height: 1.5;
    }
    td:hover .char-tooltip {
        display: block;
    }
    .lesson-badge {
        display: inline-block;
        background: #e6f2ff;
        color: #1a4f72;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.8em;
        margin-left: 5px;
    }

    /* Стили для правой фигурной скобки, объединяющей строки справа */
    .math-example {
        margin: 15px 0;
        display: flex;
        align-items: center;
        font-size: 0.95em;
    }
    .math-content {
        display: flex;
        flex-direction: column;
        text-align: left;
        margin-right: 12px; /* Отступ между текстом и скобкой */
    }
    .math-content .example {
        margin: 2px 0;
        white-space: pre; /* Сохраняем пробелы */
    }
    .math-brace {
        font-size: 2em; /* Большая скобка */
        line-height: 0.7;
        color: #1a4f72;
        font-family: monospace;
        font-weight: bold;
        margin: 0;
    }
    .math-caption {
        margin-left: 15px;
        font-style: italic;
        color: #1a4f72;
    }
</style>
<script>
    // Данные текста урока 18 (в полном соответствии с PDF и вашим идеалом таблицы)
    const lessonText = [
        "王大耤農于諆田場王射有司眔師氏",
        "小子合射王歸自諆田王馭溓仲僕令",
        "眔奮先馬走王曰令眔奮乃克至余其",
        "舍汝臣十家王至于溓宮陣令令拜稽",
        "首曰小子迺學令對揚王休",
        "昔饉歳匡衆厥臣二十夫寇舀禾十秭",
        "以匡季告東宮東宮乃曰求乃人乃弗",
        "得汝匡罰大匡乃稽首于舀用五田用",
        "衆一夫舀又以匡季告東宮東宮乃曰",
        "償舀十秭遺十秭為二十秭來歳弗償",
        "則付四十秭"
    ];

    // Функция для создания таблицы
    function createOracleTable() {
        const table = document.getElementById('oracleTable');
        // Создаём строку с номерами колонок
        const headerRow = document.createElement('tr');
        const emptyCell = document.createElement('td');
        emptyCell.className = 'line-num';
        headerRow.appendChild(emptyCell);
        for (let i = 1; i <= 15; i++) {
            const th = document.createElement('td');
            th.className = 'col-num';
            th.textContent = i;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Создаём строки с текстом
        for (let i = 0; i < lessonText.length; i++) {
            const row = document.createElement('tr');
            const lineNumCell = document.createElement('td');
            lineNumCell.className = 'line-num';
            lineNumCell.textContent = i + 1;
            row.appendChild(lineNumCell);

            const chars = Array.from(lessonText[i].replace(/\s+/g, ' ')).filter(ch => ch.trim() !== '');
            for (let j = 0; j < 15; j++) {
                const td = document.createElement('td');
                if (j < chars.length) {
                    const char = chars[j];
                    td.textContent = char;
                    if (charData[char]) {
                        const tooltip = document.createElement('div');
                        tooltip.className = 'char-tooltip';
                        tooltip.innerHTML = `
                            <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                            ${charData[char].meaning}<br>
                            <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                        `;
                        td.appendChild(tooltip);
                    }
                }
                row.appendChild(td);
            }
            table.appendChild(row);
        }
    }

    // Инициализация таблицы при загрузке страницы
    document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>18.1. Text Division Techniques (continued)
<p class="original">
Above (14.1), it was mentioned that if two identical pronouns appear side by side in a text, this indicates a boundary between two sentences. This is explained by the fact that pronouns cannot be reduced. As for the doubling of significant words (particularly in the nominal function), this in itself cannot indicate a sentence boundary.
<br/><br/>
However, the texts also contain repetitions of names that denote concepts that, in principle, exist only in the singular, for example, <span class="example">王 wáng</span> "supreme ruler" (according to Zhou beliefs, there could only be one wang in the Celestial Empire). Such repetition of a significant word can signal a sentence boundary: <span class="example">東宮納饗于王, 王賜公貝 dōng gōng nà xiǎng yú wáng, wáng cì gōng bèi</span> "The heir to the throne offered a treat to the king. The king presented the king with shells."
<br/><br/>
Just like pronouns, noun phrases used as personal names cannot be doubled in Old Chinese. Therefore, the presence of two identical noun phrases in a row in a text indicates that one of them is the object of the first sentence (we can put a period after it), and the other is the subject of the second sentence: <span class="example">[...]告東宫, 東宫乃曰...[...] gào dōng gōng, dōng gōng nǎi yuē</span> "[...] informed the heir. The heir said..."
</p>
<h3>18.2. The Function Word 眔 dà</h3>
<p class="original">
In archaic language, the function word <span class="example">眔 dà</span> is used as a coordinating conjunction connecting nouns (6.3). In the early pre-classical language, <span class="example">眔 dà</span> also began to be used as a preposition expressing the idea of ​​​​togetherness (corresponding to the English "s," "together with"). Therefore, the phrase "A <span class="example">眔 dà</span> B" can be rendered by the English "A and B" or "A together with B," which at first glance seem to be roughly the same thing. In reality, however, this is not the case.
<br/><br/>
Take, for example, the following sentence: <span class="example">令眔奮克至 lìng dà fèn kè zhì</span>.
<br/><br/>
It can be interpreted in two ways.
<br/><br/>
First, <span class="example">令眔奮 lìng dà fèn</span> can be interpreted as a noun phrase ("Ling and Fen"), which is the subject.
<br/><br/>
Second, <span class="example">眔奮 dà fèn</span> can be viewed as a forward indirect object with a preposition ("with Fen").
<br/><br/>
In the first case, one of the two homogeneous components of the subject can only be omitted together with the other (subject omission); in the second, the subject "Ling" can be omitted, and then the sentence will begin with an inverted object.
<br/><br/>
If the predicate is formed by the functional adverb <span class="example">其 qí</span> (its meaning did not change in the Early Preclassical language compared to the archaic language), then the indirect object with a preposition occupies a position between <span class="example">其 qí</span> and the predicate: <span class="example">汝其以成周師氏戍于古次 rǔ qí yǐ chéng zhōu shī shì xū yú gǔ cì</span> "With the help of officials from Chengzhou, defend the Gu camp."
<br/><br/>
According to this rule, the forward object with the preposition <span class="example">眔 dà</span> must also come between the adverb and the predicate: <span class="example">走其眔厥子子孫孫萬年用 zǒu qí dà jué zǐ zǐ sūn sūn wàn nián yòng</span> "Zou will enjoy [this] for ten thousand years, along with his sons and grandsons."
<br/><br/>
Finally, it should be noted that the preposition <span class="example">眔 dà</span>, in its grammatical properties, belongs to the same group as <span class="example">以 yǐ</span>. Prepositions in this group allow the omission of the indirect object before the predicate (for this feature of the preposition <span class="example">以 yǐ</span>, see below, 21.5). Because of this, the preposition <span class="example">眔 dà</span> in the text is not necessarily followed by a name: if the inverted indirect object introduced by <span class="example">眔 dà</span> is omitted, the preposition is immediately followed by the predicate.
<br/><br/>
Let us consider the following text from this point of view: <span class="example">王命赐次率征自五偶贝小臣速蔑曆眔賜貝 wáng mìng cì cì shuài zhēng zì wǔ ǒu bèi xiǎo chén sù miè lì dà cì bèi</span> "The ruler ordered that the shells captured during the campaign against Wuwu be granted to [the people in] the camp. Xiaochen Ci was rewarded for his efforts and, along with [others], received shells as a gift."
<br/><br/>
In this context, <span class="example">眔 dà</span> cannot be considered a conjunction, because as such it only connects nouns. Meanwhile, in our text, the word <span class="example">眔 dà</span> stands between the predicative phrase <span class="example">蔑曆 miè lì</span> "to be rewarded for past merits" and <span class="example">賜 cì</span> "to give", "to be gifted".
</p>
<h3>18.3. The Function Word 乃 nǎi (continued)</h3>
<p class="original">
Another meaning of the function word <span class="example">乃 nǎi</span>, recorded in early pre-classical texts, is as follows.
<br/><br/>
The connection between individual clauses can be not only coordinative or causal, but also, in particular, conditional. In this case, the main clause defines a situation that would be possible given the circumstances noted in the subordinate clause. This dependence of the main clause on the subordinate clause is expressed through special function words that were absent in the archaic language.
<br/><br/>
<span class="example">乃 nǎi</span> is a subordinating conjunction in a complex conditional sentence. It is placed before the predicate of the subordinate clause: <span class="example">乃不用我教辭唯余一人弗恤 nǎi bù yòng wǒ jiào cí wéi yǔ yī rén fú xù</span> "If you do not follow my teachings, I will be merciless."
<br/><br/>
<span class="example">令眔奮乃克至余其舍汝臣十家 lìng dà fèn nǎi kè zhì yú qí shè rǔ chén shí jiā</span> "If you, Ling, or you, Fen, can arrive [first], I will grant you 10 subject families."
</p>
<h3>18.4. Function word 則 zé</h3>
<p class="original">
Another means of expressing the grammatical connection between the main clause and the relative clause is the subordinating conjunction <span class="example">則 zé</span>.
<br/><br/>
But it is not placed in the subordinate clause, but after it, before the main clause (just like <span class="example">故 gù</span> in a complex cause-and-effect clause): <span class="example">來歳弗償則付四十秭 lái suì fú cháng zé fù sì shí zǐ</span> "[If] you do not repay next year, you will pay 40 measures of grain."
<br/><br/>
Sometimes <span class="example">則 zé</span> can be duplicated by <span class="example">乃 nǎi</span>, but both conjunctions are optional and can be omitted. The presence of the conjunction <span class="example">則 zé</span> before the main clause can serve as an additional basis for dividing the text into sentences.
</p>
<h3>18.5. Double Objects and Their Position</h3>
<p class="original">
The normal position of objects with predicatives meaning "giving - taking away" in the archaic language was the indirect object preceding the direct object. This same word order is preserved in the Early Preclassical language: <span class="example">賜汝鬯一卣 cì rǔ chàng yī yǒu</span> "I give you one jug of wine."
<br/><br/>
But with the advent of the preposition <span class="example">以 yǐ</span>, a new construction arises in which the direct object becomes a prepositional one and can therefore be inverted: <span class="example">以匡季告東宫 yǐ kuāng jì gào dōng gōng</span> "inform the heir about Kuan Ji."
<br/><br/>
Perhaps here a rethinking of the relationship between the predicate and the complements occurred: the indirect object (addressee) became direct, and the direct object (object) became indirect.
<br/><br/>
In other words, the sentence <span class="example">贈之芍藥 zèng zhī sháo yào</span> should be translated as "She gave him a peony," while <span class="example">贈之以芍藥 zèng zhī yǐ sháo yào</span> should be translated as "She gave him a peony."
</p>
</h3></div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>
<!-- ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>18.A. The Ceremony of the First Furrow</h3>
<p class="original">
The cult of the earth, associated with the ritual of the "first furrow," occupies a significant place in the religious beliefs of the Zhou people. Every year, on a certain day in spring, the Son of Heaven, leading his retinue, arrived at a special sacred field. After performing the sacrifice rite, the ruler dug a furrow in the field, after which everyone else present at the ceremony followed his example. This rite undoubtedly, in a relict form, reflected a long-gone custom, according to which the supreme ruler participated in socially useful labor.
</p>
<h3>18.B. "Subject"
<p class="original">
The interpretation of the Zhou term <span class="example">臣 chén</span> has a long history. Some scholars believe it referred to slaves. On the other hand, there are texts in which this meaning of the term cannot be considered legitimate. It is more likely that in the early Zhou period, the word <span class="example">臣 chén</span> referred to individuals related to a representative of higher social rank by subordination in a broad sense. A slave was a subject in relation to a lord, and an aristocrat was, in turn, a subject in relation to a zhuhou and ultimately to a king.
</p>
<h3>18.B. Arithmetic Operations</h3>
<p class="original">
In Lesson 18, we encounter a kind of example of an arithmetic operation, in this case, addition. The ancient Chinese did not develop a method for recording actions as formulas. Examples of addition, subtraction, and so on were recorded descriptively. Specifically, terms, one of which became the subject and the other the object, were connected by the predicate <span class="example">遺 wèi</span>. The equal sign was conveyed by the predicate <span class="example">為 wéi</span> "to do," "to compose." </p>
</h3></div>
<!-- ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ -->
<div class="assignment">
<h2>ASSIGNMENT FOR INDEPENDENT STUDY</h2>
<ol>
<li>Rewrite the text, adding punctuation.</li>
<li>Perform a grammatical analysis of the text.</li>
<li>Translate the text into English.</li>
<li>Translate the following sentences into Old Chinese:
<ol type="1">
<li>Five jugs of wine plus three jugs equals eight jugs.</li>
<li>If you have begun to learn to shoot, then I will give you a bundle of arrows.</li>
<li>Notify me of his order.</li>
<li>I have already apologized to this man.</li>
</ol>
</li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov - Archaic Old Chinese.<br/>
Recovered using OCR, preserving the author's style and adding pinyin.<br/>
All characters are from Lessons 1–18, or from cyclic characters (甲子 – 癸亥).
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
<script id="help" src="../help.js"></script>
<script defer="True" src="../sender.js"></script></body>
</html>