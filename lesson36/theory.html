<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 36 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<h1>УРОК 36</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Lesson Text</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Обычный вид
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>
<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "梁惠王曰寡人之於國也盡心焉耳矣",
    "河内凶則移其民於河東移其粟於河",
    "内河東凶亦然察鄰國之政無如寡人",
    "之用心者鄰國之民不加少寡人之民",
    "不加多何也孟子對曰王好戰請以戰",
    "喻填然鼓之兵刃既接棄甲曳兵而走",
    "或百步而後止或五十步而後止以五",
    "十步笑百步則何如曰不可直不百步",
    "耳是亦走也曰王如知此則無望民之",
    "多於鄰國也人死則曰非我也歳也是",
    "何異於刺人而殺之曰非我也兵也王",
    "無罪歳斯天下之民至焉"
];
// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>GRAMMAR COMMENTARY</h2>
<h3>36.1. Names as Pronouns (continued)
<p class="original">
When two people of different social status are involved in a conversation, politeness dictates that the inferior address their superior <span class="example">君 jūn</span> "lord" (cf. Russian "my dear sovereign") and themselves <span class="example">臣 chén</span> "servant" (equivalent to Russian "your humble servant"). If a subject addresses a king, they call him <span class="example">王 wáng</span> "ruler," who in turn will call them <span class="example">子 zǐ</span> "wisest," and refer to themselves <span class="example">寡人 guă rén</span> "a man devoid of virtue."
<br/><br/>
The last phrase is only possible in the mouth of a ruler, and it always unmistakably identifies, firstly, that the text contains direct speech and, secondly, that the speaker is a wang, the ruler of the kingdom.
</p>
<h3>36.2. Inversion of the Indirect Object (continued)</h3>
<p class="original">
The inverted indirect object, introduced by the preposition <span class="example">於 yú</span>, can in classical Chinese occur not only before the subject but also before the predicate. In the latter case, such inversion requires additional grammatical construction, which distinguishes it from the inversion of the indirect object in archaic and pre-classical Chinese.
<br/><br/>
An indirect object with the preposition <span class="example">於 yú</span> in preposition to the predicate does not immediately follow the subject, but is separated from it by the function word <span class="example">之 zhī</span>; after the inverted object, there may be the particle <span class="example">也 yě</span>; the addition is duplicated using the word <span class="example">焉 yān</span> at the end of the sentence: 
<br/>
<span class="example">湯之於伊學焉,而後臣之,故不勞而王,桓公之於管仲學焉,而後臣之,故不勞而霸 tāng zhī yú yī xué yān, ér hòu chén zhī, gù bù láo ér wáng, huán gōng zhī yú guăn zhòng xué yān, ér hòu chén zhī, gù bù láo ér bà</span> “[Cheng] Tang studied under Yi Yin and only secondarily considered him his subject, so he became a wang without difficulty; Huan Gong studied under Guan Zhong and considered him only secondarily as his subject, so he easily became the hegemon" (usual word order: <span class="example">湯學於伊尹而後臣之，桓公學於管仲而後臣之 tāng xué yú yī yǐn ér hòu chén zhī, huán gōng xué yú guăn zhòng ér hòu chén zhī</span>).
<br/><br/>
Note that the two variants of indirect object inversion we have analyzed differ in their communicative load.
<br/>
By inverting the indirect object, which is placed before the subject, the author seeks to emphasize this object and draw special attention to it:
<br/>
<span class="example">二王我將有所遇焉 èr wáng wǒ jiāng yǒu suǒ yù yān</span> "Of the two wangs, I will certainly reach mutual understanding with one of them."
<br/>
The purpose of inverting an indirect object placed before a predicate is different: to emphasize the predicate, not the indirect object:
<br/>
<span class="example">寡人之於國也盡心焉耳矣 guă rén zhī yú guó yě jìn xīn yān ěr yǐ</span> "I expend all my spiritual energy for the good of the state!" (With these words, the ruler of the Liang kingdom characterizes his activities in governing the state and emphasizes that he devotes himself entirely to this; hence the restrictive particle <span class="example">耳 ěr</span>; the sovereign has no other intentions).
</p>
<h3>36.3. Functions of the Numeral in a Sentence</h3>
<p class="original">
Unlike Russian, ancient Chinese numerals most often act as predicatives: not "one," "five," or "ten thousand," but "to be counted in the quantity of one, five, or ten thousand," or "to be available in such-and-such quantity."
<br/><br/>
The sentence <span class="example">或百步而後止 huò băi bù ér hòu zhǐ</span> has two predicates—<span class="example">百 băi</span> and <span class="example">止 zhǐ</span>, and <span class="example">步 bù</span> is the object of the predicate <span class="example">百 băi</span>. However, such a sentence cannot be grammatically translated into Russian (in Russian, a numeral is always a noun). Therefore, this sentence must be translated without taking into account its original grammatical structure: "Some ran a hundred steps and only then stopped."
</p>
<h3>36.4. The function word 之 zhī</h3>
<p class="original">
This word is one of the most polysemantic function words in ancient Chinese.
<br/><br/>
Furthermore, in addition to its function, it can be used in the notional meaning "to go" (in this case, it must be followed by the name of the destination without a preposition):
<br/>
<span class="example">宋牼將之楚 sòng kēng jiāng zhī chǔ</span> "Song Keng was about to go to Chu."
<br/><br/>
The word <span class="example">之 zhī</span> has at least four functional meanings:
<br/>
a) a demonstrative pronoun denoting the object of an action: <span class="example">或聞之 huò wén zhī</span> "Someone heard about it";
<br/>
b) a functional word formalizing the relationship between the definition and the defined: <span class="example">王之臣 wáng zhī chén</span> "subjects of the wang";
<br/>
c) a function word placed between the subject and the inverted indirect object:
<br/>
<span class="example">湯之於伊尹學焉 tāng zhī yú yī yǐn xué yān</span> "[Cheng] Tang studied under Yi Yin";
<br/>
d) a function word placed between the subject and predicate, turning the sentence into a noun phrase:
<br/>
<span class="example">寡人之用心 guă rén zhī yòng xīn</span> "the way I give all my strength" (derived from <span class="example">寡人用心 guă rén yòng xīn</span> "I give all my strength").
<br/><br/>
Because of its polysemy, the word <span class="example">之 zhī</span> is one of the most commonly used in classical Chinese.
</p>
<h3>36.5. An indirect object expressed by a predicative phrase.
<p class="original">
In classical language, any type of phrase can be used as an object, including an indirect one.
<br/>
In this text, the predicative phrase <span class="example">刺人而殺之 cì rén ér shā zhī</span> "to stab a person and kill him" functions as an indirect object with the preposition <span class="example">於 yú</span>:
<br/>
<span class="example">是何異於刺人而殺之 shì hé yì yú cì rén ér shā zhī</span> "How is this different from killing a person by stabbing him?"
</p>
<h3>36.6. The function word 斯 sī</h3>
<p class="original">
We already know <span class="example">斯 sī</span>, which is a synonym for the subordinating conjunction <span class="example">則 zé</span> in its two meanings.
<br/>
Recall that the first meaning of <span class="example">則 zé</span> and <span class="example">斯 sī</span> is the introduction of a main clause with a relative clause:
<br/>
<span class="example">我欲仁,斯仁至矣 wǒ yù rén, sī rén zhì yǐ</span> "[If] I strive for humaneness, then humaneness is achievable!"
<br/>
The second meaning of <span class="example">則 zé</span> and <span class="example">斯 sī</span> is to indicate a logical turn in the development of events, indicating some unexpected result:
<br/>
<span class="example">苗則槁矣 miáo zé găo yǐ</span> "And the shoots have dried up!"
<br/><br/>
Furthermore, the function word <span class="example">斯 sī</span> is used as a demonstrative pronoun "this," which can be an object:
<br/>
<span class="example">某在斯 mǒu zài sī</span> "Someone is here." <br/><br/>
In this sense, <span class="example">斯 sī</span> is also used as a modifier of a noun:
<br/>
<span class="example">使斯民死 shǐ sī mín sǐ</span> "to cause this people to die."
<br/><br/>
The pronoun <span class="example">斯 sī</span> is not used as a subject.
</p>
<h3>36.7. The Phrase 何如 hé rú</h3>
<p class="original">
The predicative <span class="example">如 rú</span> "to be similar," "to be alike" is used in combination with the interrogative <span class="example">何 hé</span> and forms a predicative phrase, often functioning as a complete sentence. It is often the main clause in a complex sentence with a conditional clause. In this case, it is preceded by the conjunction <span class="example">則 zé</span>:
<br/>
<span class="example">...則何如... zé hé rú</span> "[if]... then what is it similar to?"
<br/>
For example:
<span class="example">以五十步笑百步則何如 yǐ wǔ shí bù xiào băi bù zé hé rú</span> "What happens if people make fun of those who ran 100 steps because they ran 50 steps?"
</p>
</h3></h3></div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div class="lexicon">
<h2>LEXICAL COMMENTARY</h2>
<h3>36.A. The Kingdom of Liang</h3>
<p class="original">
The capital of the Wei Kingdom, which emerged as a result of the division of the Jin Empire, was located in Daliang (near modern-day Kaifeng in Henan Province). After moving its capital there, the kingdom became known as Liang. Its ruler, Emperor Hui, reigned from 369 to 318 BCE. He met Mencius in 335 BCE.
</p>
<h3>36.B. Henei and Hedong Regions
<p class="original">
The eastern part of the Wei Kingdom was located in a bend of the Yellow River. The region north of the Yellow River in its middle reaches was then called <span class="example">河内 hé nèi</span> (literally, "inside the river"), and the territory east of the bend was called <span class="example">河東 hé dōng</span> "east of the river."
</p>
<h3>36.B. Population Growth of the State</h3>
<p class="original">
During the Zhangguo period, when individual kingdoms waged constant wars among themselves, state borders were unstable. Therefore, the country's population depended less on natural growth than on other factors. The ruler of the Wei kingdom, in particular, is surprised that, despite all his efforts, the population of his kingdom is not increasing, while that of neighboring kingdoms is not decreasing. He believes that, upon learning of the "just rule" of his state, people from neighboring kingdoms will migrate to his territory and thereby increase Wei's power. </p>
</h3></div>
<div class="assignment">
<h2>ASSIGNMENT FOR INDEPENDENT STUDY</h2>
<ol>
<li>Rewrite the text, adding punctuation.</li>
<li>Perform a grammatical analysis of the text.</li>
<li>Translate the text into Russian.</li>
<li>Rewrite the following sentences to restore the normal word order, and translate them into Chinese:<br/>
1. How does a humane person treat his younger brothers?<br/>
2. The people do not want to move to Hedong.<br/>
3. In the future, I will study the governance systems of neighboring kingdoms.
</li>
</ol>
</div>
<div class="footer">
Textbook: V. A. Kryukov - Archaic Old Chinese Language.<br>
Reconstructed using OCR, preserving the author's style and adding pinyin.<br>
All characters are from Lessons 1–36, or from cyclic characters (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const table = document.getElementById('oracleTable');
        if (!table) return;

        const rows = table.querySelectorAll('tr');
        rows.forEach(row => {
            const cells = row.querySelectorAll('td');
            cells.forEach(cell => {
                // Получаем текстовое содержимое ячейки, включая скрытые элементы, и удаляем пробелы
                const cellText = cell.textContent.trim();
                
                // Проверяем, является ли содержимое ячейки только "_"
                if (cellText === '_') {
                    // Делаем текст невидимым, очищая textContent
                    // Это удалит текстовый узел "_" , но оставит другие элементы (например, подсказки)
                    cell.textContent = ''; 
                }
                // Проверяем, является ли содержимое ячейки только "|"
                else if (cellText === '|') {
                    // Меняем фоновый цвет на пастельно-бордовый
                    cell.style.backgroundColor = '#e0bfb8'; // Пример пастельно-бордового цвета
                    // Делаем текст (символ "|") невидимым, очищая textContent
                    cell.textContent = '';
                }
            });
        });
    });
</script>
<script id="help" src="../help.js"></script>
</html>
